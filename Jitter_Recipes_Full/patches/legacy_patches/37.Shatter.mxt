max v2;#N vpatcher 23 44 668 429;#P origin 0 -1;#P window setfont "Sans Serif" 9.;#P flonum 138 47 35 9 0 0 0 3 0 0 0 221 221 221 222 222 222 0 0 0;#P user jit.fpsgui 127 109 60 196617 0;#P comment 434 219 69 196617 amount curve;#P comment 234 219 44 196617 velocity;#P newex 220 277 41 196617 r draw;#P newex 169 203 44 196617 t b b b;#P newex 220 302 31 196617 bline;#P flonum 220 323 35 9 0. 0 1 3 0 0 0 221 221 221 222 222 222 0 0 0;#P flonum 275 233 35 9 0 0 0 3 0 0 0 221 221 221 222 222 222 0 0 0;#P flonum 203 233 35 9 0 0 0 3 0 0 0 221 221 221 222 222 222 0 0 0;#P message 169 315 33 196617 clear;#P flonum 239 233 35 9 0 0 0 3 0 0 0 221 221 221 222 222 222 0 0 0;#P newex 203 251 83 196617 pak 0. 0. 0.;#N vpatcher 10 435 675 796;#P origin 0 -35;#P window setfont "Sans Serif" 9.;#P newex 50 42 40 196617 t b b b;#P inlet 633 44 15 0;#P newex 381 228 233 196617 jit.op @op *;#P newex 435 162 108 196617 jit.op @op * @val 0.1;#P newex 435 143 106 196617 jit.op @op - @val 0.5;#P newex 306 228 73 196617 jit.matrix fall;#P newex 381 203 64 196617 jit.op @op +;#P inlet 381 43 15 0;#P newex 381 66 148 196617 jit.matrix fall 3 float32 40 40;#P inlet 435 85 15 0;#P inlet 599 44 15 0;#P window linecount 0;#P newex 50 21 41 196617 r draw;#P newex 435 181 174 196617 jit.op @op * @val 0.1 0.1 0.1;#P newex 435 124 130 196617 jit.matrix 3 float32 40 40;#P window linecount 1;#P newex 50 312 401 196617 jit.gl.mesh foo @draw_mode quads @blend_enable 1 @color 1. 1. 1. 1. @scale 1.3 1. 1.;#N vpatcher 523 209 1106 440;#P inlet 168 140 15 0;#P window setfont "Sans Serif" 9.;#P window linecount 1;#P newex 50 161 128 196617 jit.op @op + + + pass pass;#P outlet 50 184 15 0;#P newex 50 117 148 196617 jit.op @op +;#P newex 50 58 136 196617 jit.matrix 5 float32 160 40;#P window linecount 2;#P newex 188 81 369 196617 jit.expr @expr "(cell[0]%4.>0.)*(cell[0]%4.<3.)*0.052" "(cell[0]%4>1)*0.052" "0." "(cell[0]%4.>0.)*(cell[0]%4.<3.)*0.025" "(cell[0]%4>1)*0.025";#P inlet 50 38 15 0;#P comment 205 114 336 196617 this jit.expr object is the key to how we generate a quad for each point in the incoming matrix \, and assign texture coordinates to each point.;#P connect 1 0 3 0;#P connect 3 0 4 0;#P connect 4 0 6 0;#P connect 6 0 5 0;#P connect 7 0 6 1;#P fasten 3 0 2 0 55 77 193 77;#P connect 2 0 4 1;#P pop;#P newobj 50 291 128 196617 p gen_quads;#P newex 435 104 122 196617 jit.noise 3 float32 40 40;#P newex 50 149 279 196617 jit.expr @expr "snorm[0]" "snorm[1]" 0. norm[0] norm[1];#P newex 50 129 130 196617 jit.matrix 5 float32 40 40;#P inlet 29 255 15 0;#P connect 8 0 19 0;#P connect 19 0 1 0;#P connect 1 0 2 0;#P connect 2 0 4 0;#P connect 0 0 5 0;#P connect 4 0 5 0;#P fasten 17 0 4 1 386 271 173 271;#P fasten 13 0 14 0 386 222 311 222;#P fasten 19 2 11 0 85 63 386 63;#P connect 12 0 11 0;#P connect 11 0 13 0;#P connect 13 0 17 0;#P connect 10 0 3 0;#P fasten 19 1 6 0 70 122 440 122;#P connect 3 0 6 0;#P connect 6 0 15 0;#P connect 15 0 16 0;#P connect 16 0 7 0;#P connect 7 0 13 1;#P connect 9 0 7 1;#P fasten 18 0 17 1 638 225 609 225;#P pop;#P newobj 152 342 81 196617 p pieces_parts;#P newex 213 134 41 196617 s draw;#P message 419 197 33 196617 clear;#P button 169 172 30 0;#P user function 419 233 614 326 1 1 0 0;#X frgb 31 100 87;#X brgb 249 245 230;#X rgb2 169 149 45;#X rgb3 255 255 255;#X rgb4 0 0 0;#X rgb5 0 0 0;#X add 0. 1. 0;#X add 112.021858 0. 0;#X domain 500.;#X range 0. 1.;#X done;#P hidden newex 510 84 106 196617 bgcolor 190 190 180;#P user panel 608 31 8 47;#X brgb 43 131 255;#X frgb 0 0 0;#X border 0;#X rounded 0;#X shadow 0;#X done;#P user panel 596 31 13 47;#X brgb 255 241 24;#X frgb 0 0 0;#X border 0;#X rounded 0;#X shadow 0;#X done;#P comment 460 63 120 196617 andrewb@cycling74.com;#P window setfont "Sans Serif" 24.;#P comment 491 32 91 196632 Shatter;#P user panel 580 31 17 47;#X brgb 232 109 0;#X frgb 0 0 0;#X border 0;#X rounded 0;#X shadow 0;#X done;#P user panel 416 31 166 47;#X brgb 223 244 255;#X frgb 0 0 0;#X border 0;#X rounded 0;#X shadow 0;#X done;#P window setfont "Sans Serif" 9.;#P message 57 92 33 196617 close;#P message 26 92 30 196617 open;#P user jit.pwindow 25 175 82 62 0 0 0 0 1 0;#P newex 396 340 218 196617 jit.window foo @size 640 480 @depthbuffer 1;#P newex 189 153 225 196617 jit.gl.render foo @erase_color 0.2 0.21 0.19 1.;#P newex 189 109 58 196617 t b b erase;#P toggle 91 30 33 0;#P newex 91 72 57 196617 qmetro 33;#P newex 26 122 98 196617 jit.qt.grab 640 480;#P newex 45 145 86 196617 jit.gl.texture foo;#P comment 200 173 62 196617 break em up;#P fasten 3 0 2 0 96 117 31 117;#P fasten 10 0 2 0 62 114 31 114;#P connect 9 0 2 0;#P connect 2 0 8 0;#P fasten 2 0 1 0 31 141 50 141;#P connect 4 0 3 0;#P connect 6 0 34 0;#P connect 35 0 3 1;#P fasten 1 0 22 0 50 168 157 168;#P connect 19 0 30 0;#P connect 30 0 25 0;#P connect 25 0 22 1;#P connect 30 1 22 2;#P fasten 3 0 5 0 96 104 194 104;#P connect 5 0 6 0;#P fasten 5 2 6 0 242 130 194 130;#P connect 26 0 23 0;#P connect 23 0 22 3;#P connect 5 1 21 0;#P connect 31 0 29 0;#P fasten 18 1 29 0 485 328 261 328 261 298 225 298;#P connect 29 0 28 0;#P connect 28 0 22 4;#P connect 24 0 23 1;#P connect 27 0 23 2;#P connect 20 0 18 0;#P fasten 30 2 18 0 208 231 424 231;#P pop;